"use strict";function typeQuotes(e){var t=0!=e.length?e:_.shuffle(Quotes.loaded),n=t.shift(),r=$("#fake-quote");return r.text(n.quote),$("#quote").css("min-height",r.height()),$("#totalCount").text(Quotes.loaded.length),$("#currentCount").fadeOut(300,function(){$(this).text(Quotes.loaded.length-t.length).fadeIn(300)}),$("#author").fadeOut(500,function(){$(this).text(n.author).fadeIn(500)}),Promise.resolve(n.quote).then(typeLetters).then(function(){return delay(2e3)}).then(function(){return n.quote}).then(deleteLetters).then(function(){return delay(300)}).then(function(){return t}).then(typeQuotes)}function typeLetters(e){if(e){var t=e[0];return quote.innerHTML=quote.innerHTML+t,delay(getRandomInt(20,175)).then(function(){return e.slice(1)}).then(typeLetters)}}function deleteLetters(e){if(e){var t=quote.innerHTML;return quote.innerHTML=t.slice(0,t.length-1),delay(50).then(function(){return quote.innerHTML}).then(deleteLetters)}}function delay(e){return new Promise(function(t){setTimeout(t,e)})}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}var config={endPoint:"/quotes.json"},API={getQuotes:function(){return fetch(config.endPoint)}},colors=["#E51B26","#FFF219","#C0D537","#B71A8C","#19378F","#5F6061"];!function e(t){setTimeout(function(){$("#quotes").css("background-color",colors[t%colors.length]),e(++t)},45e3)}(0);var feed=new Instafeed({get:"user",userId:590563274,clientId:"e69dc5d429644873976199b5ee9ff8f5",accessToken:"590563274.e69dc5d.d24b4284737a4a68ab70183ceaa77de9",target:"gallery",limit:6,sortBy:"most-liked",resolution:"standard_resolution",after:function(){$("#gallery a").attr("target","_blank")}});feed.run();var Quotes={currentPage:0,loaded:null,init:function(){var e=this;this.getNew().then(function(t){console.log("Start"),e.loaded=t,e.currentPage+=1}).then(function(){e.type()})},getNew:function(){return fetch("/quotes.json").then(function(e){return e.json()}).then(function(e){return e.data})},startTyping:function(){var e=_.map(this.loaded,"quote");$("#quote").typeIt({strings:e,speed:150,autoStart:!1,lifeLike:!0,breakLines:!1,startDelete:!0,breakDelay:3e3})},type:function(){typeQuotes(_.shuffle(Quotes.loaded))}};$(function(){Quotes.init()});